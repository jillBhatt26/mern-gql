import{r as t,a as n,j as r,O as f,e as l,f as x,c as E}from"./index-DBbhqHsJ.js";import{u as g}from"./useQuery-BnbZDJiB.js";const A=()=>{const[e,U]=t.useState(null),[u,h]=t.useState(!0),o=n(i=>i.authUser),c=n(i=>i.setAuthUser),{data:s,loading:a}=g(E,{skip:o!==null});if(t.useEffect(()=>{h(a)},[a]),t.useEffect(()=>{s&&s.FetchActiveUser&&U(s.FetchActiveUser)},[s]),t.useEffect(()=>{e&&c(e)},[e,c]),o)return r.jsx(f,{});if(u||a)return r.jsx(l,{});if(!u&&!e)return r.jsx(x,{to:"/login",replace:!0});if(!u&&e)return r.jsx(f,{})};export{A as default};
