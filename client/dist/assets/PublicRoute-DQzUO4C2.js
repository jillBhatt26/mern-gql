import{r as e,b as f,j as a,h as U,i as p,O as E}from"./index-BKQUNXOq.js";import{F as m}from"./User-mmWI57Mj.js";import{u as x}from"./useQuery-CrCagh8T.js";const j=({redirectTo:o=void 0})=>{const[t,h]=e.useState(null),[l,i]=e.useState(!0),c=f(u=>u.authUser),n=f(u=>u.setAuthUser),{data:s,loading:r}=x(m,{skip:c!==null});return e.useEffect(()=>{i(r)},[r]),e.useEffect(()=>{t&&n(t)},[t,n]),e.useEffect(()=>{s&&s.FetchActiveUser&&(h(s.FetchActiveUser),i(!1))},[s]),l||r?a.jsx(U,{}):(t||c)&&o?a.jsx(p,{to:o,replace:!0}):a.jsx(E,{})};export{j as default};
